/******/ (function(modules) { // webpackBootstrap
/******/ 	// The module cache
/******/ 	var installedModules = {};
/******/
/******/ 	// The require function
/******/ 	function __webpack_require__(moduleId) {
/******/
/******/ 		// Check if module is in cache
/******/ 		if(installedModules[moduleId]) {
/******/ 			return installedModules[moduleId].exports;
/******/ 		}
/******/ 		// Create a new module (and put it into the cache)
/******/ 		var module = installedModules[moduleId] = {
/******/ 			i: moduleId,
/******/ 			l: false,
/******/ 			exports: {}
/******/ 		};
/******/
/******/ 		// Execute the module function
/******/ 		modules[moduleId].call(module.exports, module, module.exports, __webpack_require__);
/******/
/******/ 		// Flag the module as loaded
/******/ 		module.l = true;
/******/
/******/ 		// Return the exports of the module
/******/ 		return module.exports;
/******/ 	}
/******/
/******/
/******/ 	// expose the modules object (__webpack_modules__)
/******/ 	__webpack_require__.m = modules;
/******/
/******/ 	// expose the module cache
/******/ 	__webpack_require__.c = installedModules;
/******/
/******/ 	// define getter function for harmony exports
/******/ 	__webpack_require__.d = function(exports, name, getter) {
/******/ 		if(!__webpack_require__.o(exports, name)) {
/******/ 			Object.defineProperty(exports, name, { enumerable: true, get: getter });
/******/ 		}
/******/ 	};
/******/
/******/ 	// define __esModule on exports
/******/ 	__webpack_require__.r = function(exports) {
/******/ 		if(typeof Symbol !== 'undefined' && Symbol.toStringTag) {
/******/ 			Object.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });
/******/ 		}
/******/ 		Object.defineProperty(exports, '__esModule', { value: true });
/******/ 	};
/******/
/******/ 	// create a fake namespace object
/******/ 	// mode & 1: value is a module id, require it
/******/ 	// mode & 2: merge all properties of value into the ns
/******/ 	// mode & 4: return value when already ns object
/******/ 	// mode & 8|1: behave like require
/******/ 	__webpack_require__.t = function(value, mode) {
/******/ 		if(mode & 1) value = __webpack_require__(value);
/******/ 		if(mode & 8) return value;
/******/ 		if((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;
/******/ 		var ns = Object.create(null);
/******/ 		__webpack_require__.r(ns);
/******/ 		Object.defineProperty(ns, 'default', { enumerable: true, value: value });
/******/ 		if(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));
/******/ 		return ns;
/******/ 	};
/******/
/******/ 	// getDefaultExport function for compatibility with non-harmony modules
/******/ 	__webpack_require__.n = function(module) {
/******/ 		var getter = module && module.__esModule ?
/******/ 			function getDefault() { return module['default']; } :
/******/ 			function getModuleExports() { return module; };
/******/ 		__webpack_require__.d(getter, 'a', getter);
/******/ 		return getter;
/******/ 	};
/******/
/******/ 	// Object.prototype.hasOwnProperty.call
/******/ 	__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };
/******/
/******/ 	// __webpack_public_path__
/******/ 	__webpack_require__.p = "";
/******/
/******/
/******/ 	// Load entry module and return exports
/******/ 	return __webpack_require__(__webpack_require__.s = "./tmp/script/main.js");
/******/ })
/************************************************************************/
/******/ ({

/***/ "./tmp/script/converter.js":
/*!*********************************!*\
  !*** ./tmp/script/converter.js ***!
  \*********************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _format_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./format-utils */ \"./tmp/script/format-utils.js\");\n/* harmony import */ var _gl_canvas__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./gl-canvas */ \"./tmp/script/gl-canvas.js\");\n/* harmony import */ var _gl_utils_gl_resource__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./gl-utils/gl-resource */ \"./tmp/script/gl-utils/gl-resource.js\");\n/* harmony import */ var _gl_utils_vbo__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./gl-utils/vbo */ \"./tmp/script/gl-utils/vbo.js\");\n/* harmony import */ var _parameters__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./parameters */ \"./tmp/script/parameters.js\");\n/* harmony import */ var _shader_manager__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./shader-manager */ \"./tmp/script/shader-manager.js\");\n\n\n\n\n\n\nclass Converter extends _gl_utils_gl_resource__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n    constructor() {\n        super(_gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"]);\n        this._vbo = _gl_utils_vbo__WEBPACK_IMPORTED_MODULE_3__[\"default\"].createQuad(_gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"], -1, -1, 1, 1);\n        this.buildShader(\"_shaderBoxToBox\", \"converter.vert\", \"converterBoxToBox.frag\");\n        this.buildShader(\"_shaderBoxToPlanet\", \"converter.vert\", \"converterBoxToPlanet.frag\");\n        this.buildShader(\"_shaderBoxToSphere\", \"converter.vert\", \"converterBoxToSphere.frag\");\n        this.buildShader(\"_shaderSphereToBox\", \"converter.vert\", \"converterSphereToBox.frag\");\n        this.buildShader(\"_shaderSphereToPlanet\", \"converter.vert\", \"converterSphereToPlanet.frag\");\n        this.buildShader(\"_shaderSphereToSphere\", \"converter.vert\", \"converterSphereToSphere.frag\");\n        this.buildShader(\"_shaderPlanetToBox\", \"converter.vert\", \"converterPlanetToBox.frag\");\n        this.buildShader(\"_shaderPlanetToPlanet\", \"converter.vert\", \"converterPlanetToPlanet.frag\");\n        this.buildShader(\"_shaderPlanetToSphere\", \"converter.vert\", \"converterPlanetToSphere.frag\");\n    }\n    freeGLResources() {\n        if (this._vbo) {\n            this._vbo.freeGLResources();\n            this._vbo = null;\n        }\n        this.deleteShader(\"_shaderBoxToBox\");\n        this.deleteShader(\"_shaderBoxToPlanet\");\n        this.deleteShader(\"_shaderBoxToSphere\");\n        this.deleteShader(\"_shaderSphereToBox\");\n        this.deleteShader(\"_shaderSphereToPlanet\");\n        this.deleteShader(\"_shaderSphereToSphere\");\n        this.deleteShader(\"_shaderPlanetToBox\");\n        this.deleteShader(\"_shaderPlanetToPlanet\");\n        this.deleteShader(\"_shaderPlanetToSphere\");\n    }\n    draw(texture) {\n        const shader = this.getShader(_parameters__WEBPACK_IMPORTED_MODULE_4__[\"Parameters\"].inputFormat, _parameters__WEBPACK_IMPORTED_MODULE_4__[\"Parameters\"].outputFormat);\n        if (shader) {\n            shader.u[\"uTexture\"].value = texture;\n            shader.u[\"uPaddingTop\"].value = _parameters__WEBPACK_IMPORTED_MODULE_4__[\"Parameters\"].paddingTop;\n            shader.u[\"uPaddingBottom\"].value = _parameters__WEBPACK_IMPORTED_MODULE_4__[\"Parameters\"].paddingBottom;\n            shader.u[\"uPaddingBack\"].value = _parameters__WEBPACK_IMPORTED_MODULE_4__[\"Parameters\"].paddingBack;\n            shader.u[\"uFlipVertically\"].value = _parameters__WEBPACK_IMPORTED_MODULE_4__[\"Parameters\"].flipVertically ? -1 : 1;\n            shader.use();\n            shader.bindUniformsAndAttributes();\n            _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].drawArrays(_gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].TRIANGLE_STRIP, 0, 4);\n        }\n    }\n    deleteShader(name) {\n        if (this[name]) {\n            this[name].freeGLResources();\n            this[name] = null;\n        }\n    }\n    buildShader(name, vertex, fragment) {\n        _shader_manager__WEBPACK_IMPORTED_MODULE_5__[\"buildShader\"]({\n            fragmentFilename: fragment,\n            vertexFilename: vertex,\n        }, (shader) => {\n            if (shader !== null) {\n                this[name] = shader;\n                this[name].a[\"aCorner\"].VBO = this._vbo;\n            }\n        });\n    }\n    getShader(inputFormat, outputFormat) {\n        if (inputFormat === _format_utils__WEBPACK_IMPORTED_MODULE_0__[\"Format\"].Skybox) {\n            if (outputFormat === _format_utils__WEBPACK_IMPORTED_MODULE_0__[\"Format\"].Skybox) {\n                return this._shaderBoxToBox;\n            }\n            else if (outputFormat === _format_utils__WEBPACK_IMPORTED_MODULE_0__[\"Format\"].Skysphere) {\n                return this._shaderBoxToSphere;\n            }\n            else {\n                return this._shaderBoxToPlanet;\n            }\n        }\n        else if (inputFormat === _format_utils__WEBPACK_IMPORTED_MODULE_0__[\"Format\"].Skysphere) {\n            if (outputFormat === _format_utils__WEBPACK_IMPORTED_MODULE_0__[\"Format\"].Skybox) {\n                return this._shaderSphereToBox;\n            }\n            else if (outputFormat === _format_utils__WEBPACK_IMPORTED_MODULE_0__[\"Format\"].Skysphere) {\n                return this._shaderSphereToSphere;\n            }\n            else {\n                return this._shaderSphereToPlanet;\n            }\n        }\n        else if (inputFormat === _format_utils__WEBPACK_IMPORTED_MODULE_0__[\"Format\"].Tinyplanet) {\n            if (outputFormat === _format_utils__WEBPACK_IMPORTED_MODULE_0__[\"Format\"].Skybox) {\n                return this._shaderPlanetToBox;\n            }\n            else if (outputFormat === _format_utils__WEBPACK_IMPORTED_MODULE_0__[\"Format\"].Skysphere) {\n                return this._shaderPlanetToSphere;\n            }\n            else {\n                return this._shaderPlanetToPlanet;\n            }\n        }\n    }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (Converter);\n\n\n//# sourceURL=webpack:///./tmp/script/converter.js?");

/***/ }),

/***/ "./tmp/script/format-utils.js":
/*!************************************!*\
  !*** ./tmp/script/format-utils.js ***!
  \************************************/
/*! exports provided: Format, FormatUtils */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Format\", function() { return Format; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"FormatUtils\", function() { return FormatUtils; });\nvar Format;\n(function (Format) {\n    Format[\"Skybox\"] = \"skybox\";\n    Format[\"Skysphere\"] = \"skysphere\";\n    Format[\"Tinyplanet\"] = \"tinyplanet\";\n})(Format || (Format = {}));\nclass FormatUtils {\n    static guessFormat(image) {\n        if (FormatUtils.mayBeSkybox(image)) {\n            return Format.Skybox;\n        }\n        const ratio = image.width / image.height;\n        if (Math.abs(ratio - 1) < 0.1) {\n            return Format.Tinyplanet;\n        }\n        return Format.Skysphere;\n    }\n    static parseString(str) {\n        if (str === Format.Skybox) {\n            return Format.Skybox;\n        }\n        else if (str === Format.Tinyplanet) {\n            return Format.Tinyplanet;\n        }\n        else {\n            return Format.Skysphere;\n        }\n    }\n    static ratio(format) {\n        if (format === Format.Skybox) {\n            return 4 / 3;\n        }\n        else if (format === Format.Skysphere) {\n            return 2;\n        }\n        else {\n            return 1;\n        }\n    }\n    static mayBeSkybox(image) {\n        const context = document.createElement(\"canvas\").getContext(\"2d\");\n        context.canvas.width = 8;\n        context.canvas.height = 6;\n        context.drawImage(image, 0, 0, context.canvas.width, context.canvas.height);\n        const testedPixels = [\n            { x: 0, y: 0 }, { x: 5, y: 0 }, { x: 6, y: 0 }, { x: 7, y: 0 },\n            { x: 0, y: 5 }, { x: 5, y: 5 }, { x: 6, y: 5 }, { x: 7, y: 5 },\n        ];\n        const reference = context.getImageData(testedPixels[0].x, testedPixels[0].y, 1, 1).data;\n        for (const tested of testedPixels) {\n            const sample = context.getImageData(tested.x, tested.y, 1, 1).data;\n            for (let i = 0; i < 4; ++i) {\n                if (sample[i] !== reference[i]) {\n                    return false;\n                }\n            }\n        }\n        return true;\n    }\n    constructor() { }\n}\n\n\n\n//# sourceURL=webpack:///./tmp/script/format-utils.js?");

/***/ }),

/***/ "./tmp/script/gl-canvas.js":
/*!*********************************!*\
  !*** ./tmp/script/gl-canvas.js ***!
  \*********************************/
/*! exports provided: adjustSize, initGL, gl */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"adjustSize\", function() { return adjustSize; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"initGL\", function() { return initGL; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"gl\", function() { return gl; });\nlet gl = null;\nfunction initGL(flags) {\n    const canvas = Canvas.getCanvas();\n    gl = canvas.getContext(\"webgl\", flags);\n    if (gl == null) {\n        gl = canvas.getContext(\"experimental-webgl\", flags);\n        if (gl == null) {\n            Demopage.addErrorMessage(\"Your browser or device does not seem to support WebGL.\");\n            return false;\n        }\n        Demopage.addErrorMessage(\"Your browser or device only supports experimental WebGL.\\n\" +\n            \"The simulation may not run as expected.\");\n    }\n    gl.disable(gl.CULL_FACE);\n    gl.disable(gl.DEPTH_TEST);\n    gl.disable(gl.BLEND);\n    gl.clearColor(0.0, 0.0, 0.0, 1.0);\n    return true;\n}\nfunction adjustSize(hidpi = false) {\n    const cssPixel = (hidpi) ? window.devicePixelRatio : 1;\n    const width = Math.floor(gl.canvas.clientWidth * cssPixel);\n    const height = Math.floor(gl.canvas.clientHeight * cssPixel);\n    if (gl.canvas.width !== width || gl.canvas.height !== height) {\n        gl.canvas.width = width;\n        gl.canvas.height = height;\n    }\n}\n\n\n\n//# sourceURL=webpack:///./tmp/script/gl-canvas.js?");

/***/ }),

/***/ "./tmp/script/gl-utils/gl-resource.js":
/*!********************************************!*\
  !*** ./tmp/script/gl-utils/gl-resource.js ***!
  \********************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nclass GLResource {\n    constructor(gl) {\n        this._gl = gl;\n    }\n    get gl() {\n        return this._gl;\n    }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (GLResource);\n\n\n//# sourceURL=webpack:///./tmp/script/gl-utils/gl-resource.js?");

/***/ }),

/***/ "./tmp/script/gl-utils/shader.js":
/*!***************************************!*\
  !*** ./tmp/script/gl-utils/shader.js ***!
  \***************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _gl_resource__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./gl-resource */ \"./tmp/script/gl-utils/gl-resource.js\");\n\nfunction notImplemented(gl, location, value) {\n    alert(\"NOT IMPLEMENTED YET\");\n}\nfunction bindUniformFloat(gl, location, value) {\n    if (Array.isArray(value)) {\n        gl.uniform1fv(location, value);\n    }\n    else {\n        gl.uniform1f(location, value);\n    }\n}\nfunction bindUniformFloat2v(gl, location, value) {\n    gl.uniform2fv(location, value);\n}\nfunction bindUniformFloat3v(gl, location, value) {\n    gl.uniform3fv(location, value);\n}\nfunction bindUniformFloat4v(gl, location, value) {\n    gl.uniform4fv(location, value);\n}\nfunction bindUniformInt(gl, location, value) {\n    if (Array.isArray(value)) {\n        gl.uniform1iv(location, value);\n    }\n    else {\n        gl.uniform1iv(location, value);\n    }\n}\nfunction bindUniformInt2v(gl, location, value) {\n    gl.uniform2iv(location, value);\n}\nfunction bindUniformInt3v(gl, location, value) {\n    gl.uniform3iv(location, value);\n}\nfunction bindUniformInt4v(gl, location, value) {\n    gl.uniform4iv(location, value);\n}\nfunction bindUniformBool(gl, location, value) {\n    gl.uniform1i(location, +value);\n}\nfunction bindUniformBool2v(gl, location, value) {\n    gl.uniform2iv(location, value);\n}\nfunction bindUniformBool3v(gl, location, value) {\n    gl.uniform3iv(location, value);\n}\nfunction bindUniformBool4v(gl, location, value) {\n    gl.uniform4iv(location, value);\n}\nfunction bindUniformFloatMat2(gl, location, value) {\n    gl.uniformMatrix2fv(location, false, value);\n}\nfunction bindUniformFloatMat3(gl, location, value) {\n    gl.uniformMatrix3fv(location, false, value);\n}\nfunction bindUniformFloatMat4(gl, location, value) {\n    gl.uniformMatrix4fv(location, false, value);\n}\nfunction bindSampler2D(gl, location, unitNb, value) {\n    gl.uniform1i(location, unitNb);\n    gl.activeTexture(gl[\"TEXTURE\" + unitNb]);\n    gl.bindTexture(gl.TEXTURE_2D, value);\n}\nfunction bindSamplerCube(gl, location, unitNb, value) {\n    gl.uniform1i(location, unitNb);\n    gl.activeTexture(gl[\"TEXTURE\" + unitNb]);\n    gl.bindTexture(gl.TEXTURE_CUBE_MAP, value);\n}\nconst types = {\n    0x8B50: { str: \"FLOAT_VEC2\", binder: bindUniformFloat2v },\n    0x8B51: { str: \"FLOAT_VEC3\", binder: bindUniformFloat3v },\n    0x8B52: { str: \"FLOAT_VEC4\", binder: bindUniformFloat4v },\n    0x8B53: { str: \"INT_VEC2\", binder: bindUniformInt2v },\n    0x8B54: { str: \"INT_VEC3\", binder: bindUniformInt3v },\n    0x8B55: { str: \"INT_VEC4\", binder: bindUniformInt4v },\n    0x8B56: { str: \"BOOL\", binder: bindUniformBool },\n    0x8B57: { str: \"BOOL_VEC2\", binder: bindUniformBool2v },\n    0x8B58: { str: \"BOOL_VEC3\", binder: bindUniformBool3v },\n    0x8B59: { str: \"BOOL_VEC4\", binder: bindUniformBool4v },\n    0x8B5A: { str: \"FLOAT_MAT2\", binder: bindUniformFloatMat2 },\n    0x8B5B: { str: \"FLOAT_MAT3\", binder: bindUniformFloatMat3 },\n    0x8B5C: { str: \"FLOAT_MAT4\", binder: bindUniformFloatMat4 },\n    0x8B5E: { str: \"SAMPLER_2D\", binder: bindSampler2D },\n    0x8B60: { str: \"SAMPLER_CUBE\", binder: bindSamplerCube },\n    0x1400: { str: \"BYTE\", binder: notImplemented },\n    0x1401: { str: \"UNSIGNED_BYTE\", binder: notImplemented },\n    0x1402: { str: \"SHORT\", binder: notImplemented },\n    0x1403: { str: \"UNSIGNED_SHORT\", binder: notImplemented },\n    0x1404: { str: \"INT\", binder: bindUniformInt },\n    0x1405: { str: \"UNSIGNED_INT\", binder: notImplemented },\n    0x1406: { str: \"FLOAT\", binder: bindUniformFloat },\n};\nclass ShaderProgram extends _gl_resource__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    constructor(gl, vertexSource, fragmentSource) {\n        function createShader(type, source) {\n            const shader = gl.createShader(type);\n            gl.shaderSource(shader, source);\n            gl.compileShader(shader);\n            const compileSuccess = gl.getShaderParameter(shader, gl.COMPILE_STATUS);\n            if (!compileSuccess) {\n                console.error(gl.getShaderInfoLog(shader));\n                gl.deleteShader(shader);\n                return null;\n            }\n            return shader;\n        }\n        super(gl);\n        this.id = null;\n        this.uCount = 0;\n        this.aCount = 0;\n        const vertexShader = createShader(gl.VERTEX_SHADER, vertexSource);\n        const fragmentShader = createShader(gl.FRAGMENT_SHADER, fragmentSource);\n        const id = gl.createProgram();\n        gl.attachShader(id, vertexShader);\n        gl.attachShader(id, fragmentShader);\n        gl.linkProgram(id);\n        const linkSuccess = gl.getProgramParameter(id, gl.LINK_STATUS);\n        if (!linkSuccess) {\n            console.error(gl.getProgramInfoLog(id));\n            gl.deleteProgram(id);\n        }\n        else {\n            this.id = id;\n            this.introspection();\n        }\n    }\n    freeGLResources() {\n        super.gl.deleteProgram(this.id);\n        this.id = null;\n    }\n    use() {\n        super.gl.useProgram(this.id);\n    }\n    bindUniforms() {\n        const gl = super.gl;\n        let currTextureUnitNb = 0;\n        Object.keys(this.u).forEach((uName) => {\n            const uniform = this.u[uName];\n            if (uniform.value !== null) {\n                if (uniform.type === 0x8B5E || uniform.type === 0x8B60) {\n                    const unitNb = currTextureUnitNb;\n                    types[uniform.type].binder(gl, uniform.loc, unitNb, uniform.value);\n                    currTextureUnitNb++;\n                }\n                else {\n                    types[uniform.type].binder(gl, uniform.loc, uniform.value);\n                }\n            }\n        });\n    }\n    bindAttributes() {\n        Object.keys(this.a).forEach((aName) => {\n            const attribute = this.a[aName];\n            if (attribute.VBO !== null) {\n                attribute.VBO.bind(attribute.loc);\n            }\n        });\n    }\n    bindUniformsAndAttributes() {\n        this.bindUniforms();\n        this.bindAttributes();\n    }\n    introspection() {\n        const gl = super.gl;\n        this.uCount = gl.getProgramParameter(this.id, gl.ACTIVE_UNIFORMS);\n        this.u = [];\n        for (let i = 0; i < this.uCount; ++i) {\n            const uniform = gl.getActiveUniform(this.id, i);\n            const name = uniform.name;\n            this.u[name] = {\n                loc: gl.getUniformLocation(this.id, name),\n                size: uniform.size,\n                type: uniform.type,\n                value: null,\n            };\n        }\n        this.aCount = gl.getProgramParameter(this.id, gl.ACTIVE_ATTRIBUTES);\n        this.a = [];\n        for (let i = 0; i < this.aCount; ++i) {\n            const attribute = gl.getActiveAttrib(this.id, i);\n            const name = attribute.name;\n            this.a[name] = {\n                VBO: null,\n                loc: gl.getAttribLocation(this.id, name),\n                size: attribute.size,\n                type: attribute.type,\n            };\n        }\n    }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (ShaderProgram);\n\n\n//# sourceURL=webpack:///./tmp/script/gl-utils/shader.js?");

/***/ }),

/***/ "./tmp/script/gl-utils/vbo.js":
/*!************************************!*\
  !*** ./tmp/script/gl-utils/vbo.js ***!
  \************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _gl_resource__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./gl-resource */ \"./tmp/script/gl-utils/gl-resource.js\");\n\nclass VBO extends _gl_resource__WEBPACK_IMPORTED_MODULE_0__[\"default\"] {\n    static createQuad(gl, minX, minY, maxX, maxY) {\n        const vert = [\n            minX, minY,\n            maxX, minY,\n            minX, maxY,\n            maxX, maxY,\n        ];\n        return new VBO(gl, new Float32Array(vert), 2, gl.FLOAT);\n    }\n    constructor(gl, array, size, type) {\n        super(gl);\n        this.id = gl.createBuffer();\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.id);\n        gl.bufferData(gl.ARRAY_BUFFER, array, gl.STATIC_DRAW);\n        gl.bindBuffer(gl.ARRAY_BUFFER, null);\n        this.size = size;\n        this.type = type;\n        this.normalize = false;\n        this.stride = 0;\n        this.offset = 0;\n    }\n    freeGLResources() {\n        this.gl.deleteBuffer(this.id);\n        this.id = null;\n    }\n    bind(location) {\n        const gl = super.gl;\n        gl.enableVertexAttribArray(location);\n        gl.bindBuffer(gl.ARRAY_BUFFER, this.id);\n        gl.vertexAttribPointer(location, this.size, this.type, this.normalize, this.stride, this.offset);\n    }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (VBO);\n\n\n//# sourceURL=webpack:///./tmp/script/gl-utils/vbo.js?");

/***/ }),

/***/ "./tmp/script/gl-utils/viewport.js":
/*!*****************************************!*\
  !*** ./tmp/script/gl-utils/viewport.js ***!
  \*****************************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\nclass Viewport {\n    static setFullCanvas(gl) {\n        gl.viewport(0, 0, gl.drawingBufferWidth, gl.drawingBufferHeight);\n    }\n    constructor(left, lower, width, height) {\n        this.left = left;\n        this.lower = lower;\n        this.width = width;\n        this.height = height;\n    }\n    set(gl) {\n        gl.viewport(this.lower, this.left, this.width, this.height);\n    }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (Viewport);\n\n\n//# sourceURL=webpack:///./tmp/script/gl-utils/viewport.js?");

/***/ }),

/***/ "./tmp/script/main.js":
/*!****************************!*\
  !*** ./tmp/script/main.js ***!
  \****************************/
/*! no exports provided */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _converter__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./converter */ \"./tmp/script/converter.js\");\n/* harmony import */ var _format_utils__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./format-utils */ \"./tmp/script/format-utils.js\");\n/* harmony import */ var _gl_canvas__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./gl-canvas */ \"./tmp/script/gl-canvas.js\");\n/* harmony import */ var _gl_utils_viewport__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./gl-utils/viewport */ \"./tmp/script/gl-utils/viewport.js\");\n/* harmony import */ var _parameters__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./parameters */ \"./tmp/script/parameters.js\");\n/* harmony import */ var _viewer__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./viewer */ \"./tmp/script/viewer.js\");\n\n\n\n\n\n\n\nfunction main() {\n    function resetEditControls() {\n        _parameters__WEBPACK_IMPORTED_MODULE_4__[\"Parameters\"].paddingTop = 0;\n        _parameters__WEBPACK_IMPORTED_MODULE_4__[\"Parameters\"].paddingBottom = 0;\n        _parameters__WEBPACK_IMPORTED_MODULE_4__[\"Parameters\"].paddingBack = 0;\n        _parameters__WEBPACK_IMPORTED_MODULE_4__[\"Parameters\"].flipVertically = false;\n    }\n    Canvas.showLoader(true);\n    _parameters__WEBPACK_IMPORTED_MODULE_4__[\"Parameters\"].onImageLoadObservers.push(resetEditControls);\n    _parameters__WEBPACK_IMPORTED_MODULE_4__[\"Parameters\"].image = new Image();\n    _parameters__WEBPACK_IMPORTED_MODULE_4__[\"Parameters\"].image.src = \"./images/skybox.jpg\";\n    _parameters__WEBPACK_IMPORTED_MODULE_4__[\"Parameters\"].inputFormat = _format_utils__WEBPACK_IMPORTED_MODULE_1__[\"Format\"].Skybox;\n    _parameters__WEBPACK_IMPORTED_MODULE_4__[\"Parameters\"].outputFormat = _format_utils__WEBPACK_IMPORTED_MODULE_1__[\"Format\"].Skysphere;\n    _parameters__WEBPACK_IMPORTED_MODULE_4__[\"Parameters\"].previewOutput = false;\n    _parameters__WEBPACK_IMPORTED_MODULE_4__[\"Parameters\"].fov = 70 * Math.PI / 180;\n    _parameters__WEBPACK_IMPORTED_MODULE_4__[\"Parameters\"].showFrame = false;\n    resetEditControls();\n    const glParams = {\n        alpha: false,\n        preserveDrawingBuffer: true,\n    };\n    if (!_gl_canvas__WEBPACK_IMPORTED_MODULE_2__[\"initGL\"](glParams)) {\n        return;\n    }\n    const viewer = new _viewer__WEBPACK_IMPORTED_MODULE_5__[\"default\"]();\n    const converter = new _converter__WEBPACK_IMPORTED_MODULE_0__[\"default\"]();\n    let forceRedraw = false;\n    FileControl.addDownloadObserver(\"file-download-id\", () => {\n        const idealWidth = _parameters__WEBPACK_IMPORTED_MODULE_4__[\"Parameters\"].image.width * _parameters__WEBPACK_IMPORTED_MODULE_4__[\"Parameters\"].outputPercentage;\n        const width = Math.pow(2, Math.floor(Math.log2(idealWidth)));\n        const height = width / _format_utils__WEBPACK_IMPORTED_MODULE_1__[\"FormatUtils\"].ratio(_parameters__WEBPACK_IMPORTED_MODULE_4__[\"Parameters\"].outputFormat);\n        const canvas = Canvas.getCanvas();\n        canvas.style.position = \"absolute\";\n        canvas.style.width = width + \"px\";\n        canvas.style.height = height + \"px\";\n        canvas.width = width;\n        canvas.height = height;\n        _gl_canvas__WEBPACK_IMPORTED_MODULE_2__[\"adjustSize\"]();\n        _gl_utils_viewport__WEBPACK_IMPORTED_MODULE_3__[\"default\"].setFullCanvas(_gl_canvas__WEBPACK_IMPORTED_MODULE_2__[\"gl\"]);\n        _gl_canvas__WEBPACK_IMPORTED_MODULE_2__[\"gl\"].clear(_gl_canvas__WEBPACK_IMPORTED_MODULE_2__[\"gl\"].COLOR_BUFFER_BIT | _gl_canvas__WEBPACK_IMPORTED_MODULE_2__[\"gl\"].DEPTH_BUFFER_BIT);\n        converter.draw(viewer.texture);\n        canvas.toBlob((blob) => {\n            const link = document.createElement(\"a\");\n            link.download = \"image.png\";\n            link.href = URL.createObjectURL(blob);\n            link.click();\n            canvas.style.position = \"\";\n            canvas.style.width = \"\";\n            canvas.style.height = \"\";\n            forceRedraw = true;\n        });\n    });\n    const previewViewport = new _gl_utils_viewport__WEBPACK_IMPORTED_MODULE_3__[\"default\"](0, 0, 1, 1);\n    function mainLoop() {\n        viewer.update();\n        if (viewer.needToRedraw || forceRedraw) {\n            _gl_canvas__WEBPACK_IMPORTED_MODULE_2__[\"adjustSize\"]();\n            _gl_utils_viewport__WEBPACK_IMPORTED_MODULE_3__[\"default\"].setFullCanvas(_gl_canvas__WEBPACK_IMPORTED_MODULE_2__[\"gl\"]);\n            _gl_canvas__WEBPACK_IMPORTED_MODULE_2__[\"gl\"].clear(_gl_canvas__WEBPACK_IMPORTED_MODULE_2__[\"gl\"].COLOR_BUFFER_BIT | _gl_canvas__WEBPACK_IMPORTED_MODULE_2__[\"gl\"].DEPTH_BUFFER_BIT);\n            viewer.draw();\n            if (_parameters__WEBPACK_IMPORTED_MODULE_4__[\"Parameters\"].previewOutput) {\n                previewViewport.width = 0.3 * _gl_canvas__WEBPACK_IMPORTED_MODULE_2__[\"gl\"].drawingBufferWidth;\n                previewViewport.height = previewViewport.width / _format_utils__WEBPACK_IMPORTED_MODULE_1__[\"FormatUtils\"].ratio(_parameters__WEBPACK_IMPORTED_MODULE_4__[\"Parameters\"].outputFormat);\n                previewViewport.set(_gl_canvas__WEBPACK_IMPORTED_MODULE_2__[\"gl\"]);\n                converter.draw(viewer.texture);\n            }\n            forceRedraw = false;\n        }\n        requestAnimationFrame(mainLoop);\n    }\n    requestAnimationFrame(mainLoop);\n}\nmain();\n\n\n//# sourceURL=webpack:///./tmp/script/main.js?");

/***/ }),

/***/ "./tmp/script/mat4.js":
/*!****************************!*\
  !*** ./tmp/script/mat4.js ***!
  \****************************/
/*! exports provided: Mat4 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Mat4\", function() { return Mat4; });\n/* harmony import */ var _vec3__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./vec3 */ \"./tmp/script/vec3.js\");\n\nclass Mat4 {\n    constructor() {\n        this._val = new Float32Array(16);\n        this.identity();\n    }\n    static get tmpMatrix() {\n        if (Mat4._tmpMatrix === null) {\n            Mat4._tmpMatrix = new Mat4();\n        }\n        return Mat4._tmpMatrix;\n    }\n    get val() {\n        return this._val;\n    }\n    identity() {\n        for (let i = 0; i < 16; ++i) {\n            this._val[i] = 0;\n        }\n        this._val[0] = 1;\n        this._val[5] = 1;\n        this._val[10] = 1;\n        this._val[15] = 1;\n    }\n    lookAt(eye, center, up) {\n        if (eye.equals(center)) {\n            this.identity();\n            return;\n        }\n        const z = _vec3__WEBPACK_IMPORTED_MODULE_0__[\"Vec3\"].substract(eye, center);\n        z.normalize();\n        const x = _vec3__WEBPACK_IMPORTED_MODULE_0__[\"Vec3\"].crossProduct(up, z);\n        x.normalize();\n        const y = _vec3__WEBPACK_IMPORTED_MODULE_0__[\"Vec3\"].crossProduct(z, x);\n        y.normalize();\n        this._val[0] = x.x;\n        this._val[1] = y.x;\n        this._val[2] = z.x;\n        this._val[3] = 0;\n        this._val[4] = x.y;\n        this._val[5] = y.y;\n        this._val[6] = z.y;\n        this._val[7] = 0;\n        this._val[8] = x.z;\n        this._val[9] = y.z;\n        this._val[10] = z.z;\n        this._val[11] = 0;\n        this._val[12] = -_vec3__WEBPACK_IMPORTED_MODULE_0__[\"Vec3\"].dotProduct(x, eye);\n        this._val[13] = -_vec3__WEBPACK_IMPORTED_MODULE_0__[\"Vec3\"].dotProduct(y, eye);\n        this._val[14] = -_vec3__WEBPACK_IMPORTED_MODULE_0__[\"Vec3\"].dotProduct(z, eye);\n        this._val[15] = 1;\n    }\n    multiplyRight(m2) {\n        const tmp = Mat4.tmpMatrix._val;\n        const myself = this._val;\n        const other = m2._val;\n        for (let iCol = 0; iCol < 4; ++iCol) {\n            for (let iRow = 0; iRow < 4; ++iRow) {\n                tmp[4 * iCol + iRow] = 0;\n                for (let i = 0; i < 4; ++i) {\n                    tmp[4 * iCol + iRow] += myself[4 * i + iRow] * other[4 * iCol + i];\n                }\n            }\n        }\n        this.swapWithTmpMatrix();\n    }\n    invert() {\n        const m = this._val;\n        const m00 = m[0], m01 = m[1], m02 = m[2], m03 = m[3];\n        const m10 = m[4], m11 = m[5], m12 = m[6], m13 = m[7];\n        const m20 = m[8], m21 = m[9], m22 = m[10], m23 = m[11];\n        const m30 = m[12], m31 = m[13], m32 = m[14], m33 = m[15];\n        const b00 = m00 * m11 - m01 * m10;\n        const b01 = m00 * m12 - m02 * m10;\n        const b02 = m00 * m13 - m03 * m10;\n        const b03 = m01 * m12 - m02 * m11;\n        const b04 = m01 * m13 - m03 * m11;\n        const b05 = m02 * m13 - m03 * m12;\n        const b06 = m20 * m31 - m21 * m30;\n        const b07 = m20 * m32 - m22 * m30;\n        const b08 = m20 * m33 - m23 * m30;\n        const b09 = m21 * m32 - m22 * m31;\n        const b10 = m21 * m33 - m23 * m31;\n        const b11 = m22 * m33 - m23 * m32;\n        let det = b00 * b11 - b01 * b10 + b02 * b09 + b03 * b08 - b04 * b07 + b05 * b06;\n        if (!det) {\n            return false;\n        }\n        det = 1.0 / det;\n        const tmpVals = Mat4.tmpMatrix._val;\n        tmpVals[0] = (m11 * b11 - m12 * b10 + m13 * b09) * det;\n        tmpVals[1] = (m02 * b10 - m01 * b11 - m03 * b09) * det;\n        tmpVals[2] = (m31 * b05 - m32 * b04 + m33 * b03) * det;\n        tmpVals[3] = (m22 * b04 - m21 * b05 - m23 * b03) * det;\n        tmpVals[4] = (m12 * b08 - m10 * b11 - m13 * b07) * det;\n        tmpVals[5] = (m00 * b11 - m02 * b08 + m03 * b07) * det;\n        tmpVals[6] = (m32 * b02 - m30 * b05 - m33 * b01) * det;\n        tmpVals[7] = (m20 * b05 - m22 * b02 + m23 * b01) * det;\n        tmpVals[8] = (m10 * b10 - m11 * b08 + m13 * b06) * det;\n        tmpVals[9] = (m01 * b08 - m00 * b10 - m03 * b06) * det;\n        tmpVals[10] = (m30 * b04 - m31 * b02 + m33 * b00) * det;\n        tmpVals[11] = (m21 * b02 - m20 * b04 - m23 * b00) * det;\n        tmpVals[12] = (m11 * b07 - m10 * b09 - m12 * b06) * det;\n        tmpVals[13] = (m00 * b09 - m01 * b07 + m02 * b06) * det;\n        tmpVals[14] = (m31 * b01 - m30 * b03 - m32 * b00) * det;\n        tmpVals[15] = (m20 * b03 - m21 * b01 + m22 * b00) * det;\n        this.swapWithTmpMatrix();\n        return true;\n    }\n    perspective(fovy, aspectRatio, nearPlane, farPlane) {\n        const f = 1 / Math.tan(fovy / 2);\n        this._val[0] = f / aspectRatio;\n        this._val[1] = 0;\n        this._val[2] = 0;\n        this._val[3] = 0;\n        this._val[4] = 0;\n        this._val[5] = f;\n        this._val[6] = 0;\n        this._val[7] = 0;\n        this._val[8] = 0;\n        this._val[9] = 0;\n        this._val[11] = -1;\n        this._val[12] = 0;\n        this._val[13] = 0;\n        this._val[15] = 0;\n        if (farPlane === Infinity) {\n            this._val[10] = -1;\n            this._val[14] = -2 * nearPlane;\n        }\n        else {\n            const tmp = 1 / (nearPlane - farPlane);\n            this._val[10] = (farPlane + nearPlane) * tmp;\n            this._val[14] = (2 * farPlane * nearPlane) * tmp;\n        }\n    }\n    perspectiveInverse(fovy, aspectRatio, nearPlane, farPlane) {\n        const f = Math.tan(fovy / 2);\n        this._val[0] = aspectRatio * f;\n        this._val[1] = 0;\n        this._val[2] = 0;\n        this._val[3] = 0;\n        this._val[4] = 0;\n        this._val[5] = f;\n        this._val[6] = 0;\n        this._val[7] = 0;\n        this._val[8] = 0;\n        this._val[9] = 0;\n        this._val[10] = 0;\n        this._val[12] = 0;\n        this._val[13] = 0;\n        this._val[14] = -1;\n        if (farPlane === Infinity) {\n            this._val[11] = -0.5;\n            this._val[15] = 0.5 / nearPlane;\n        }\n        else {\n            const tmp = 0.5 / (nearPlane * farPlane);\n            this._val[11] = (nearPlane - farPlane) * tmp;\n            this._val[15] = (nearPlane + farPlane) * tmp;\n        }\n    }\n    swapWithTmpMatrix() {\n        const tmp = Mat4.tmpMatrix._val;\n        Mat4.tmpMatrix._val = this._val;\n        this._val = tmp;\n    }\n}\nMat4._tmpMatrix = null;\n\n\n\n//# sourceURL=webpack:///./tmp/script/mat4.js?");

/***/ }),

/***/ "./tmp/script/parameters.js":
/*!**********************************!*\
  !*** ./tmp/script/parameters.js ***!
  \**********************************/
/*! exports provided: Parameters */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Parameters\", function() { return Parameters; });\n/* harmony import */ var _format_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./format-utils */ \"./tmp/script/format-utils.js\");\n\nconst onChangeObservers = new Array();\nfunction callOnChangeObservers() {\n    for (const callback of Parameters.onChangeObservers) {\n        callback();\n    }\n}\nconst onImageLoadObservers = new Array();\nlet image;\nconst FILE_UPLOAD_CONTROL = \"file-upload-id\";\nFileControl.addUploadObserver(FILE_UPLOAD_CONTROL, (files) => {\n    Canvas.showLoader(true);\n    const reader = new FileReader();\n    reader.onload = () => {\n        Parameters.image = new Image();\n        Parameters.image.src = reader.result;\n    };\n    reader.readAsDataURL(files[0]);\n});\nconst onInputFormatChangeObservers = new Array();\nlet inputFormat;\nconst INPUT_FORMAT_CONTROL = \"input-format\";\nTabs.addObserver(INPUT_FORMAT_CONTROL, (values) => {\n    const previous = inputFormat;\n    inputFormat = _format_utils__WEBPACK_IMPORTED_MODULE_0__[\"FormatUtils\"].parseString(values[0]);\n    for (const callback of onInputFormatChangeObservers) {\n        callback(previous, inputFormat);\n    }\n});\nlet outputFormat;\nconst OUTPUT_FORMAT_CONTROL = \"output-format\";\nTabs.addObserver(OUTPUT_FORMAT_CONTROL, (values) => {\n    outputFormat = _format_utils__WEBPACK_IMPORTED_MODULE_0__[\"FormatUtils\"].parseString(values[0]);\n    callOnChangeObservers();\n});\nlet outputPreview;\nconst OUPUT_PREVIEW_CONTROL = \"output-preview-id\";\nCheckbox.addObserver(OUPUT_PREVIEW_CONTROL, (checked) => {\n    outputPreview = checked;\n    callOnChangeObservers();\n});\nlet fov;\nconst FOV_CONTROL = \"fov-range-id\";\nRange.addObserver(FOV_CONTROL, (newFov) => {\n    fov = Math.PI / 180 * newFov;\n    callOnChangeObservers();\n});\nlet showFrame;\nconst FRAME_CONTROL = \"frame-checkbox-id\";\nCheckbox.addObserver(FRAME_CONTROL, (checked) => {\n    showFrame = checked;\n    callOnChangeObservers();\n});\nlet paddingTOP;\nconst PADDING_TOP_CONTROL = \"padding-top-range-id\";\nRange.addObserver(PADDING_TOP_CONTROL, (margin) => {\n    paddingTOP = margin;\n    callOnChangeObservers();\n});\nlet paddingBottom;\nconst PADDING_BOTTOM_CONTROL = \"padding-bottom-range-id\";\nRange.addObserver(PADDING_BOTTOM_CONTROL, (margin) => {\n    paddingBottom = margin;\n    callOnChangeObservers();\n});\nlet paddingBack;\nconst PADDING_BACK_CONTROL = \"padding-back-range-id\";\nRange.addObserver(PADDING_BACK_CONTROL, (margin) => {\n    paddingBack = margin;\n    callOnChangeObservers();\n});\nlet flipVertically;\nconst FLIP_VERTICALLY_CONTROL = \"flip-vertically-checkbox-id\";\nCheckbox.addObserver(FLIP_VERTICALLY_CONTROL, (checked) => {\n    flipVertically = checked;\n    callOnChangeObservers();\n});\nCanvas.Observers.mouseWheel.push((delta) => {\n    Parameters.fov += delta * 10 * Math.PI / 180;\n});\nclass Parameters {\n    constructor() { }\n    static get onChangeObservers() {\n        return onChangeObservers;\n    }\n    static get onInputFormatChangeObservers() {\n        return onInputFormatChangeObservers;\n    }\n    static get onImageLoadObservers() {\n        return onImageLoadObservers;\n    }\n    static set image(img) {\n        image = img;\n        image.addEventListener(\"load\", () => {\n            for (const callback of onImageLoadObservers) {\n                callback(image);\n            }\n            callOnChangeObservers();\n        });\n    }\n    static get image() {\n        return image;\n    }\n    static set inputFormat(value) {\n        inputFormat = value;\n        Tabs.setValues(INPUT_FORMAT_CONTROL, [value]);\n        callOnChangeObservers();\n    }\n    static get inputFormat() {\n        return inputFormat;\n    }\n    static set previewOutput(show) {\n        outputPreview = show;\n        Checkbox.setChecked(OUPUT_PREVIEW_CONTROL, show);\n        callOnChangeObservers();\n    }\n    static get previewOutput() {\n        return outputPreview;\n    }\n    static set outputFormat(value) {\n        outputFormat = value;\n        Tabs.setValues(OUTPUT_FORMAT_CONTROL, [value]);\n        callOnChangeObservers();\n    }\n    static get outputFormat() {\n        return outputFormat;\n    }\n    static get outputPercentage() {\n        return +Tabs.getValues(\"output-quality\")[0] / 100;\n    }\n    static set fov(value) {\n        Range.setValue(FOV_CONTROL, value * 180 / Math.PI);\n        fov = Range.getValue(FOV_CONTROL) * Math.PI / 180;\n        callOnChangeObservers();\n    }\n    static get fov() {\n        return fov;\n    }\n    static set showFrame(show) {\n        showFrame = show;\n        Checkbox.setChecked(FRAME_CONTROL, show);\n        callOnChangeObservers();\n    }\n    static get showFrame() {\n        return showFrame;\n    }\n    static set paddingTop(margin) {\n        Range.setValue(PADDING_TOP_CONTROL, margin);\n        paddingTOP = Range.getValue(PADDING_TOP_CONTROL);\n        callOnChangeObservers();\n    }\n    static get paddingTop() {\n        return paddingTOP;\n    }\n    static set paddingBottom(margin) {\n        Range.setValue(PADDING_BOTTOM_CONTROL, margin);\n        paddingBottom = Range.getValue(PADDING_BOTTOM_CONTROL);\n        callOnChangeObservers();\n    }\n    static get paddingBottom() {\n        return paddingBottom;\n    }\n    static set paddingBack(margin) {\n        Range.setValue(PADDING_BACK_CONTROL, margin);\n        paddingBack = Range.getValue(PADDING_BACK_CONTROL);\n        callOnChangeObservers();\n    }\n    static get paddingBack() {\n        return paddingBack;\n    }\n    static set flipVertically(show) {\n        flipVertically = show;\n        Checkbox.setChecked(FLIP_VERTICALLY_CONTROL, show);\n        callOnChangeObservers();\n    }\n    static get flipVertically() {\n        return flipVertically;\n    }\n}\n\n\n\n//# sourceURL=webpack:///./tmp/script/parameters.js?");

/***/ }),

/***/ "./tmp/script/shader-manager.js":
/*!**************************************!*\
  !*** ./tmp/script/shader-manager.js ***!
  \**************************************/
/*! exports provided: buildShader, getShader, registerShader, unregisterShader */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"buildShader\", function() { return buildShader; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getShader\", function() { return getShader; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"registerShader\", function() { return registerShader; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"unregisterShader\", function() { return unregisterShader; });\n/* harmony import */ var _gl_canvas__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./gl-canvas */ \"./tmp/script/gl-canvas.js\");\n/* harmony import */ var _gl_utils_shader__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./gl-utils/shader */ \"./tmp/script/gl-utils/shader.js\");\n/* harmony import */ var _shader_sources__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./shader-sources */ \"./tmp/script/shader-sources.js\");\n\n\n\nconst cachedShaders = {};\nfunction getShader(name) {\n    if (!cachedShaders[name]) {\n        return null;\n    }\n    return cachedShaders[name].shader;\n}\nfunction buildShader(infos, callback) {\n    const filenames = [\n        infos.vertexFilename,\n        infos.fragmentFilename,\n    ];\n    _shader_sources__WEBPACK_IMPORTED_MODULE_2__[\"loadSources\"](filenames, (success) => {\n        if (success) {\n            const vert = _shader_sources__WEBPACK_IMPORTED_MODULE_2__[\"getSource\"](infos.vertexFilename);\n            const frag = _shader_sources__WEBPACK_IMPORTED_MODULE_2__[\"getSource\"](infos.fragmentFilename);\n            const shader = new _gl_utils_shader__WEBPACK_IMPORTED_MODULE_1__[\"default\"](_gl_canvas__WEBPACK_IMPORTED_MODULE_0__[\"gl\"], vert, frag);\n            callback(shader);\n        }\n        else {\n            console.error(\"Failed to load '\" + filenames.join(\", \") + \"' shaders.\");\n            callback(null);\n        }\n    });\n}\nfunction registerShader(name, infos, callback) {\n    if (cachedShaders[name]) {\n        console.warn(\"Shader '\" + name + \"' already registered.\");\n        callback(true, cachedShaders[name].shader);\n        return;\n    }\n    buildShader(infos, (builtShader) => {\n        if (builtShader != null) {\n            cachedShaders[name] = {\n                infos,\n                shader: builtShader,\n            };\n        }\n    });\n}\nfunction unregisterShader(name) {\n    if (cachedShaders[name]) {\n        if (cachedShaders[name].shader) {\n            cachedShaders[name].shader.freeGLResources();\n        }\n        delete cachedShaders[name];\n    }\n}\n\n\n\n//# sourceURL=webpack:///./tmp/script/shader-manager.js?");

/***/ }),

/***/ "./tmp/script/shader-sources.js":
/*!**************************************!*\
  !*** ./tmp/script/shader-sources.js ***!
  \**************************************/
/*! exports provided: getSource, loadSource, loadSources */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"getSource\", function() { return getSource; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"loadSource\", function() { return loadSource; });\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"loadSources\", function() { return loadSources; });\nconst cachedSources = {};\nfunction loadSource(filename, callback) {\n    const xhr = new XMLHttpRequest();\n    xhr.open(\"GET\", \"./shaders/\" + filename, true);\n    xhr.onload = () => {\n        if (xhr.readyState === 4) {\n            if (xhr.status === 200) {\n                cachedSources[filename] = xhr.responseText;\n                callback(true);\n            }\n            else {\n                console.error(\"Could not load '\" + filename + \"' shader source: \" + xhr.statusText);\n                callback(false);\n            }\n        }\n    };\n    xhr.onerror = () => {\n        console.error(\"Could not load '\" + filename + \"' shader source: \" + xhr.statusText);\n        callback(false);\n    };\n    xhr.send(null);\n}\nfunction loadSources(filenames, callback) {\n    let nbResponses = 0;\n    let nbFailed = 0;\n    function incrementNbReponses() {\n        nbResponses++;\n        if (nbResponses === filenames.length) {\n            callback(nbFailed === 0);\n        }\n    }\n    for (const filename of filenames) {\n        if (typeof cachedSources[filename] === \"undefined\") {\n            loadSource(filename, (success) => {\n                if (!success) {\n                    nbFailed++;\n                }\n                incrementNbReponses();\n            });\n        }\n        else {\n            incrementNbReponses();\n        }\n    }\n}\nfunction getSource(filename) {\n    return cachedSources[filename];\n}\n\n\n\n//# sourceURL=webpack:///./tmp/script/shader-sources.js?");

/***/ }),

/***/ "./tmp/script/vec3.js":
/*!****************************!*\
  !*** ./tmp/script/vec3.js ***!
  \****************************/
/*! exports provided: Vec3 */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony export (binding) */ __webpack_require__.d(__webpack_exports__, \"Vec3\", function() { return Vec3; });\nconst EPSILON = 0.0001;\nclass Vec3 {\n    static dotProduct(v1, v2) {\n        return v1._val[0] * v2._val[0] +\n            v1._val[1] * v2._val[1] +\n            v1._val[2] * v2._val[2];\n    }\n    static crossProduct(v1, v2) {\n        return new Vec3(v1._val[1] * v2._val[2] - v1._val[2] * v2._val[1], v1._val[2] * v2._val[0] - v1._val[0] * v2._val[2], v1._val[0] * v2._val[1] - v1._val[1] * v2._val[0]);\n    }\n    static substract(v1, v2) {\n        return new Vec3(v1._val[0] - v2._val[0], v1._val[1] - v2._val[1], v1._val[2] - v2._val[2]);\n    }\n    constructor(x, y, z) {\n        this._val = new Float32Array(3);\n        this._val[0] = x;\n        this._val[1] = y;\n        this._val[2] = z;\n    }\n    get x() {\n        return this._val[0];\n    }\n    get y() {\n        return this._val[1];\n    }\n    get z() {\n        return this._val[2];\n    }\n    equals(other) {\n        return Math.abs(this._val[0] - other._val[0]) < EPSILON &&\n            Math.abs(this._val[1] - other._val[1]) < EPSILON &&\n            Math.abs(this._val[2] - other._val[2]) < EPSILON;\n    }\n    divideByScalar(scalar) {\n        this._val[0] /= scalar;\n        this._val[1] /= scalar;\n        this._val[2] /= scalar;\n    }\n    substract(other) {\n        this._val[0] -= other._val[0];\n        this._val[1] -= other._val[1];\n        this._val[2] -= other._val[2];\n    }\n    get length() {\n        const norm = this._val[0] * this._val[0] +\n            this._val[1] * this._val[1] +\n            this._val[2] * this._val[2];\n        return Math.sqrt(norm);\n    }\n    normalize() {\n        if (Math.abs(this._val[0]) < EPSILON &&\n            Math.abs(this._val[1]) < EPSILON &&\n            Math.abs(this._val[2]) < EPSILON) {\n            this._val[0] = 0;\n            this._val[1] = 0;\n            this._val[2] = 0;\n            return false;\n        }\n        this.divideByScalar(this.length);\n        return true;\n    }\n}\n\n\n\n//# sourceURL=webpack:///./tmp/script/vec3.js?");

/***/ }),

/***/ "./tmp/script/viewer.js":
/*!******************************!*\
  !*** ./tmp/script/viewer.js ***!
  \******************************/
/*! exports provided: default */
/***/ (function(module, __webpack_exports__, __webpack_require__) {

"use strict";
eval("__webpack_require__.r(__webpack_exports__);\n/* harmony import */ var _format_utils__WEBPACK_IMPORTED_MODULE_0__ = __webpack_require__(/*! ./format-utils */ \"./tmp/script/format-utils.js\");\n/* harmony import */ var _gl_canvas__WEBPACK_IMPORTED_MODULE_1__ = __webpack_require__(/*! ./gl-canvas */ \"./tmp/script/gl-canvas.js\");\n/* harmony import */ var _gl_utils_gl_resource__WEBPACK_IMPORTED_MODULE_2__ = __webpack_require__(/*! ./gl-utils/gl-resource */ \"./tmp/script/gl-utils/gl-resource.js\");\n/* harmony import */ var _gl_utils_vbo__WEBPACK_IMPORTED_MODULE_3__ = __webpack_require__(/*! ./gl-utils/vbo */ \"./tmp/script/gl-utils/vbo.js\");\n/* harmony import */ var _mat4__WEBPACK_IMPORTED_MODULE_4__ = __webpack_require__(/*! ./mat4 */ \"./tmp/script/mat4.js\");\n/* harmony import */ var _parameters__WEBPACK_IMPORTED_MODULE_5__ = __webpack_require__(/*! ./parameters */ \"./tmp/script/parameters.js\");\n/* harmony import */ var _shader_manager__WEBPACK_IMPORTED_MODULE_6__ = __webpack_require__(/*! ./shader-manager */ \"./tmp/script/shader-manager.js\");\n/* harmony import */ var _vec3__WEBPACK_IMPORTED_MODULE_7__ = __webpack_require__(/*! ./vec3 */ \"./tmp/script/vec3.js\");\n\n\n\n\n\n\n\n\nclass Viewer extends _gl_utils_gl_resource__WEBPACK_IMPORTED_MODULE_2__[\"default\"] {\n    constructor() {\n        super(_gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"]);\n        this._eyePos = new _vec3__WEBPACK_IMPORTED_MODULE_7__[\"Vec3\"](0, 0, 0);\n        this._vertical = new _vec3__WEBPACK_IMPORTED_MODULE_7__[\"Vec3\"](0, 0, 1);\n        this._tmpMatrix = new _mat4__WEBPACK_IMPORTED_MODULE_4__[\"Mat4\"]();\n        this._projToWorldMatrix = new _mat4__WEBPACK_IMPORTED_MODULE_4__[\"Mat4\"]();\n        this.resetThetaPhi();\n        this._needToReloadImage = false;\n        this._needToRedraw = true;\n        const doNeedToRedraw = () => { this._needToRedraw = true; };\n        const doNeedToReloadImage = () => {\n            doNeedToRedraw();\n            this.resetThetaPhi();\n            this._needToReloadImage = true;\n        };\n        _parameters__WEBPACK_IMPORTED_MODULE_5__[\"Parameters\"].onInputFormatChangeObservers.push((previous, newOne) => {\n            if (previous === _format_utils__WEBPACK_IMPORTED_MODULE_0__[\"Format\"].Skybox || newOne === _format_utils__WEBPACK_IMPORTED_MODULE_0__[\"Format\"].Skybox) {\n                Canvas.showLoader(true);\n                doNeedToReloadImage();\n            }\n            else {\n                doNeedToRedraw();\n            }\n        });\n        _parameters__WEBPACK_IMPORTED_MODULE_5__[\"Parameters\"].onChangeObservers.push(doNeedToRedraw);\n        Canvas.Observers.canvasResize.push(doNeedToRedraw);\n        Canvas.Observers.mouseDrag.push(doNeedToRedraw);\n        this._vbo = _gl_utils_vbo__WEBPACK_IMPORTED_MODULE_3__[\"default\"].createQuad(_gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"], -1, -1, 1, 1);\n        this.buildShader(\"_shaderSkysphere\", \"viewer.vert\", \"viewerSkysphere.frag\");\n        this.buildShader(\"_shaderSkybox\", \"viewer.vert\", \"viewerSkybox.frag\");\n        this.buildShader(\"_shaderTinyplanet\", \"viewer.vert\", \"viewerTinyplanet.frag\");\n        Canvas.Observers.mouseDrag.push((dX, dY) => {\n            this._phi += _parameters__WEBPACK_IMPORTED_MODULE_5__[\"Parameters\"].fov * Canvas.getAspectRatio() * dX;\n            this._theta -= _parameters__WEBPACK_IMPORTED_MODULE_5__[\"Parameters\"].fov * dY;\n            this._theta = Math.min(Math.PI - 0.001, Math.max(0.001, this._theta));\n            doNeedToRedraw();\n        });\n        _parameters__WEBPACK_IMPORTED_MODULE_5__[\"Parameters\"].onImageLoadObservers.push((image) => {\n            _parameters__WEBPACK_IMPORTED_MODULE_5__[\"Parameters\"].inputFormat = _format_utils__WEBPACK_IMPORTED_MODULE_0__[\"FormatUtils\"].guessFormat(image);\n            doNeedToReloadImage();\n        });\n    }\n    freeGLResources() {\n        if (this._vbo) {\n            this._vbo.freeGLResources();\n            this._vbo = null;\n        }\n        if (this._texture) {\n            _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].deleteTexture(this._texture);\n            this._texture = null;\n        }\n        if (this._shaderSkybox) {\n            this._shaderSkybox.freeGLResources();\n            this._shaderSkybox = null;\n        }\n        if (this._shaderSkysphere) {\n            this._shaderSkysphere.freeGLResources();\n            this._shaderSkysphere = null;\n        }\n        if (this._shaderTinyplanet) {\n            this._shaderTinyplanet.freeGLResources();\n            this._shaderTinyplanet = null;\n        }\n    }\n    get texture() {\n        return this._texture;\n    }\n    get needToRedraw() {\n        return this._needToRedraw;\n    }\n    update() {\n        if (this._needToReloadImage) {\n            if (_parameters__WEBPACK_IMPORTED_MODULE_5__[\"Parameters\"].inputFormat === _format_utils__WEBPACK_IMPORTED_MODULE_0__[\"Format\"].Skybox) {\n                this.splitAndLoadSkybox(_parameters__WEBPACK_IMPORTED_MODULE_5__[\"Parameters\"].image);\n            }\n            else {\n                this.loadTexture(_parameters__WEBPACK_IMPORTED_MODULE_5__[\"Parameters\"].image);\n            }\n            this._needToReloadImage = false;\n            Canvas.showLoader(false);\n        }\n    }\n    draw() {\n        let shader;\n        if (_parameters__WEBPACK_IMPORTED_MODULE_5__[\"Parameters\"].inputFormat === _format_utils__WEBPACK_IMPORTED_MODULE_0__[\"Format\"].Skybox) {\n            shader = this._shaderSkybox;\n        }\n        else if (_parameters__WEBPACK_IMPORTED_MODULE_5__[\"Parameters\"].inputFormat === _format_utils__WEBPACK_IMPORTED_MODULE_0__[\"Format\"].Skysphere) {\n            shader = this._shaderSkysphere;\n        }\n        else {\n            shader = this._shaderTinyplanet;\n        }\n        if (shader) {\n            this.recomputeMatrices();\n            shader.u[\"uProjToWorld\"].value = this._projToWorldMatrix.val;\n            shader.u[\"uTexture\"].value = this._texture;\n            shader.u[\"uPaddingTop\"].value = _parameters__WEBPACK_IMPORTED_MODULE_5__[\"Parameters\"].paddingTop;\n            shader.u[\"uPaddingBottom\"].value = _parameters__WEBPACK_IMPORTED_MODULE_5__[\"Parameters\"].paddingBottom;\n            shader.u[\"uPaddingBack\"].value = _parameters__WEBPACK_IMPORTED_MODULE_5__[\"Parameters\"].paddingBack;\n            shader.u[\"uFlipVertically\"].value = _parameters__WEBPACK_IMPORTED_MODULE_5__[\"Parameters\"].flipVertically ? -1 : 1;\n            shader.u[\"uShowFrame\"].value = _parameters__WEBPACK_IMPORTED_MODULE_5__[\"Parameters\"].showFrame ? 1 : 0;\n            shader.use();\n            shader.bindUniformsAndAttributes();\n            _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].drawArrays(_gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].TRIANGLE_STRIP, 0, 4);\n        }\n        this._needToRedraw = false;\n    }\n    resetThetaPhi() {\n        this._theta = 0.5 * Math.PI;\n        this._phi = 0;\n        this._needToRedraw = true;\n    }\n    loadTexture(image) {\n        _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].deleteTexture(this._texture);\n        this._texture = _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].createTexture();\n        _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].bindTexture(_gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].TEXTURE_2D, this._texture);\n        _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].texImage2D(_gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].TEXTURE_2D, 0, _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].RGBA, _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].RGBA, _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].UNSIGNED_BYTE, image);\n        _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].texParameteri(_gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].TEXTURE_2D, _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].TEXTURE_WRAP_S, _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].CLAMP_TO_EDGE);\n        _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].texParameteri(_gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].TEXTURE_2D, _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].TEXTURE_WRAP_T, _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].CLAMP_TO_EDGE);\n        _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].texParameteri(_gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].TEXTURE_2D, _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].TEXTURE_MIN_FILTER, _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].LINEAR);\n        _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].texParameteri(_gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].TEXTURE_2D, _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].TEXTURE_MAG_FILTER, _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].LINEAR);\n    }\n    splitAndLoadSkybox(image) {\n        function chooseUpperPowerOfTwo(n) {\n            return Math.pow(2, Math.ceil(Math.log2(n)));\n        }\n        const side = chooseUpperPowerOfTwo(Math.floor(Math.max(image.width / 4, image.height / 3)));\n        _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].deleteTexture(this._texture);\n        this._texture = _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].createTexture();\n        const context = document.createElement(\"canvas\").getContext(\"2d\");\n        context.canvas.width = side;\n        context.canvas.height = side;\n        const sidesStyles = [\n            { target: _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].TEXTURE_CUBE_MAP_POSITIVE_X, position: { x: 2, y: 1 }, rotation: 0.5 * Math.PI },\n            { target: _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].TEXTURE_CUBE_MAP_NEGATIVE_X, position: { x: 0, y: 1 }, rotation: -0.5 * Math.PI },\n            { target: _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].TEXTURE_CUBE_MAP_POSITIVE_Y, position: { x: 1, y: 1 }, rotation: -Math.PI },\n            { target: _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].TEXTURE_CUBE_MAP_NEGATIVE_Y, position: { x: 3, y: 1 }, rotation: 0 },\n            { target: _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].TEXTURE_CUBE_MAP_POSITIVE_Z, position: { x: 1, y: 0 }, rotation: Math.PI },\n            { target: _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].TEXTURE_CUBE_MAP_NEGATIVE_Z, position: { x: 1, y: 2 }, rotation: 0 },\n        ];\n        _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].bindTexture(_gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].TEXTURE_CUBE_MAP, this._texture);\n        context.translate(side, 0);\n        context.scale(-1, 1);\n        const sourceWidth = image.width / 4;\n        const sourceHeight = image.height / 3;\n        for (const sideStyle of sidesStyles) {\n            context.translate(0.5 * side, 0.5 * side);\n            context.rotate(sideStyle.rotation);\n            context.translate(-0.5 * side, -0.5 * side);\n            context.drawImage(image, sideStyle.position.x * sourceWidth, sideStyle.position.y * sourceHeight, sourceWidth, sourceHeight, 0, 0, side, side);\n            _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].texImage2D(sideStyle.target, 0, _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].RGBA, _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].RGBA, _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].UNSIGNED_BYTE, context.canvas);\n            context.translate(0.5 * side, 0.5 * side);\n            context.rotate(-sideStyle.rotation);\n            context.translate(-0.5 * side, -0.5 * side);\n        }\n        _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].generateMipmap(_gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].TEXTURE_CUBE_MAP);\n        _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].texParameteri(_gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].TEXTURE_CUBE_MAP, _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].TEXTURE_MIN_FILTER, _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].LINEAR_MIPMAP_LINEAR);\n        _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].texParameteri(_gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].TEXTURE_CUBE_MAP, _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].TEXTURE_MAG_FILTER, _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].LINEAR);\n    }\n    buildShader(name, vertex, fragment) {\n        _shader_manager__WEBPACK_IMPORTED_MODULE_6__[\"buildShader\"]({\n            fragmentFilename: fragment,\n            vertexFilename: vertex,\n        }, (shader) => {\n            if (shader !== null) {\n                this[name] = shader;\n                this[name].a[\"aCorner\"].VBO = this._vbo;\n            }\n        });\n    }\n    recomputeMatrices() {\n        const lookAt = new _vec3__WEBPACK_IMPORTED_MODULE_7__[\"Vec3\"](Math.sin(this._theta) * Math.cos(this._phi), Math.sin(this._theta) * Math.sin(this._phi), Math.cos(this._theta));\n        this._projToWorldMatrix.lookAt(this._eyePos, lookAt, this._vertical);\n        this._projToWorldMatrix.invert();\n        const aspectRatio = _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].canvas.clientWidth / _gl_canvas__WEBPACK_IMPORTED_MODULE_1__[\"gl\"].canvas.clientHeight;\n        this._tmpMatrix.perspectiveInverse(_parameters__WEBPACK_IMPORTED_MODULE_5__[\"Parameters\"].fov, aspectRatio, 0.1, Infinity);\n        this._projToWorldMatrix.multiplyRight(this._tmpMatrix);\n    }\n}\n/* harmony default export */ __webpack_exports__[\"default\"] = (Viewer);\n\n\n//# sourceURL=webpack:///./tmp/script/viewer.js?");

/***/ })

/******/ });